<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>azmpdata - searching • azmpdata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="azmpdata - searching">
<meta property="og:description" content="azmpdata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">azmpdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2019.0.9100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/plotting_azmpdata.html">Plotting in azmpdata</a>
    </li>
    <li>
      <a href="../articles/search_azmpdata.html">azmpdata - searching</a>
    </li>
    <li>
      <a href="../articles/style_guide.html">Style Guide</a>
    </li>
    <li>
      <a href="../articles/update_azmpdata.html">update_azmpdata</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/casaultb/azmpdata/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>azmpdata - searching</h1>
                        <h4 class="author">Emily Chisholm</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/casaultb/azmpdata/blob/master/vignettes/search_azmpdata.Rmd"><code>vignettes/search_azmpdata.Rmd</code></a></small>
      <div class="hidden name"><code>search_azmpdata.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://casaultb.github.io/azmpdata">azmpdata</a></span><span class="op">)</span></code></pre></div>
<pre><code>## 
##  casaultb/azmpdata status:
##  (Package ver: 0.2019.0.9100) Up to date
##  (Data ver:2021-01-08 ) is up to date</code></pre>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This vignette will describe how to search the data contained in the <code>azmpdata</code> package. We will demonstrate using the built in search function, as well as other convenient ways to find data within the package, using R studio’s built in functionality.</p>
<div id="listing-all-dataframes" class="section level3">
<h3 class="hasAnchor">
<a href="#listing-all-dataframes" class="anchor"></a>Listing all dataframes</h3>
<p>Listing all the available dataframes in a package can be a quick way to see a high level overview of the datasets. The output from the following code will display all the dataframe names as well as brief, high-level descriptions. This data will appear in a new window.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">'azmpdata'</span><span class="op">)</span></code></pre></div>
</div>
<div id="calling-for-help" class="section level3">
<h3 class="hasAnchor">
<a href="#calling-for-help" class="anchor"></a>Calling for help</h3>
<p>You can browse through the help documentation for all datasets, and functions in the package by calling the code below. This information will come up in the R studio help window.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/help.html">help</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">'azmpdata'</span><span class="op">)</span></code></pre></div>
<p>Clicking on a specific dataframe name or function in the help window will bring you to a detailed help page. For dataframes, this help page will include variable names and definitions, as well as information about the source of the data and the proper citation.</p>
</div>
<div id="searching-help-files" class="section level3">
<h3 class="hasAnchor">
<a href="#searching-help-files" class="anchor"></a>Searching help files</h3>
<p>R studio provides some built in capability to be able to search through the help files for a given package. The function <code><a href="https://rdrr.io/r/utils/help.search.html">help.search()</a></code> can be used to search through titles and descriptions of help files in a package.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/help.search.html">help.search</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'section'</span>, package <span class="op">=</span> <span class="st">'azmpdata'</span><span class="op">)</span></code></pre></div>
<p>This code will bring up all the help files (in the R studio help window), which match the <code>pattern</code> provided. Note, that this does not search through the <strong>entire text</strong> of the help file, for more details see <code>lookup_variable()</code> in the next section.</p>
</div>
<div id="custom-azmpdata-search" class="section level3">
<h3 class="hasAnchor">
<a href="#custom-azmpdata-search" class="anchor"></a>Custom azmpdata search</h3>
<p>We have created a custom search function in <code>azmpdata</code> which allows a user to search the package in two ways. One, search for keywords in the names of all variables, included in all datasets of the package. Two, search for keywords in the entirety of the package help text (including the <code>details</code> sections, which often contains variable definitions and is not searched through when using <code><a href="https://rdrr.io/r/utils/help.search.html">help.search()</a></code>).</p>
<p>The output of this function will be a table with three columns, <code>keyword</code>, or the search keyword that was provided, that has been matched (this is useful if providing multiple keywords), <code>variable</code>, the name of the variable which matched your keyword search, and <code>dataframe</code> which will be the name of the dataframe in which your matched variable is contained, or if searching through the help text, the name of the dataframe where your keyword was found in the help text.</p>
<p>This function can be provided with a single keyword,</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/variable_lookup.html">variable_lookup</a></span><span class="op">(</span><span class="st">'nitrate'</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##    keyword variable                  dataframe                    
##    &lt;chr&gt;   &lt;chr&gt;                     &lt;chr&gt;                        
##  1 nitrate integrated_nitrate_0_50   Derived_Annual_Sections      
##  2 nitrate integrated_nitrate_0_50   Derived_Annual_Stations      
##  3 nitrate integrated_nitrate_0_50   Derived_Occupations_Sections 
##  4 nitrate integrated_nitrate_50_150 Derived_Annual_Sections      
##  5 nitrate integrated_nitrate_50_150 Derived_Annual_Stations      
##  6 nitrate integrated_nitrate_50_150 Derived_Occupations_Sections 
##  7 nitrate nitrate                   Discrete_Occupations_Sections
##  8 nitrate nitrate                   Discrete_Occupations_Stations
##  9 nitrate nitrate_0_50              Derived_Occupations_Stations 
## 10 nitrate nitrate_50_150            Derived_Occupations_Stations</code></pre>
<p>or multiple keywords.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/variable_lookup.html">variable_lookup</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'nitrate'</span>, <span class="st">'integrated'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 25 x 3
##    keyword    variable                     dataframe                   
##    &lt;chr&gt;      &lt;chr&gt;                        &lt;chr&gt;                       
##  1 integrated integrated_chlorophyll_0_100 Derived_Annual_Sections     
##  2 integrated integrated_chlorophyll_0_100 Derived_Annual_Stations     
##  3 integrated integrated_chlorophyll_0_100 Derived_Occupations_Sections
##  4 integrated integrated_nitrate_0_50      Derived_Annual_Sections     
##  5 integrated integrated_nitrate_0_50      Derived_Annual_Stations     
##  6 integrated integrated_nitrate_0_50      Derived_Occupations_Sections
##  7 integrated integrated_nitrate_50_150    Derived_Annual_Sections     
##  8 integrated integrated_nitrate_50_150    Derived_Annual_Stations     
##  9 integrated integrated_nitrate_50_150    Derived_Occupations_Sections
## 10 integrated integrated_phosphate_0_50    Derived_Annual_Sections     
## # ... with 15 more rows</code></pre>
<p>In order to search through the help text, use the option <code>search_help</code></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/variable_lookup.html">variable_lookup</a></span><span class="op">(</span><span class="st">'nitrate'</span>, search_help <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>## Joining, by = c("keyword", "variable", "dataframe")</code></pre>
<pre><code>## # A tibble: 17 x 3
##    keyword variable                  dataframe                    
##    &lt;chr&gt;   &lt;chr&gt;                     &lt;chr&gt;                        
##  1 nitrate integrated_nitrate_0_50   Derived_Annual_Sections      
##  2 nitrate integrated_nitrate_0_50   Derived_Annual_Stations      
##  3 nitrate integrated_nitrate_0_50   Derived_Occupations_Sections 
##  4 nitrate integrated_nitrate_50_150 Derived_Annual_Sections      
##  5 nitrate integrated_nitrate_50_150 Derived_Annual_Stations      
##  6 nitrate integrated_nitrate_50_150 Derived_Occupations_Sections 
##  7 nitrate nitrate                   Discrete_Occupations_Sections
##  8 nitrate nitrate                   Discrete_Occupations_Stations
##  9 nitrate nitrate_0_50              Derived_Occupations_Stations 
## 10 nitrate nitrate_50_150            Derived_Occupations_Stations 
## 11 nitrate &lt;NA&gt;                      Derived_Annual_Broadscale    
## 12 nitrate &lt;NA&gt;                      Derived_Annual_Sections      
## 13 nitrate &lt;NA&gt;                      Derived_Annual_Stations      
## 14 nitrate &lt;NA&gt;                      Derived_Occupations_Sections 
## 15 nitrate &lt;NA&gt;                      Derived_Occupations_Stations 
## 16 nitrate &lt;NA&gt;                      Discrete_Occupations_Sections
## 17 nitrate &lt;NA&gt;                      Discrete_Occupations_Stations</code></pre>
<p>Note, that if the search returns a match to your keyword in the text of a help file, the output will not return a specific variable name in the <code>variable</code> column (instead it will return NA), and will give you only the dataframe name in the <code>dataframe</code> column.</p>
</div>
<div id="calling-the-data" class="section level3">
<h3 class="hasAnchor">
<a href="#calling-the-data" class="anchor"></a>Calling the data</h3>
<p>Once you have your search results, you may want to call the dataframe which matched your search terms. This is very straight-forward if using our custom search function <code><a href="../reference/variable_lookup.html">variable_lookup()</a></code></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ans</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/variable_lookup.html">variable_lookup</a></span><span class="op">(</span>keywords <span class="op">=</span> <span class="st">'wet weight'</span>, search_help <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span><span class="op">(</span><span class="va">ans</span><span class="op">$</span><span class="va">dataframe</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></code></pre></div>
</div>
<div id="conclusion" class="section level3">
<h3 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h3>
<p>The package <code>azmpdata</code> contains a wealth of datasets and we hope these search functions make it easier to find exactly what you need. For more information on base R search functions please feel free to do your own research. For questions about the custom <code>azmpdata</code> search please contact developers or bring an issue to the github board (listed in the package description under BugReports).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Benoit Casault, Emily Chisholm, Chantelle Layton, Chantelle Layton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
